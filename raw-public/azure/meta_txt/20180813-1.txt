RCA - Latency and Slow I/O issues in East US
Summary of impact: Between 18:45 and 21:35 UTC on 13 Aug 2018, a subset of customers in East US would have experienced some of the below issues with their Azure services: • Latency and potentially connectivity loss to Virtual Machines and Storage accounts • Latency or failed requests for traffic going over an Express Route circuit • Latency or failures when attempting to Remote Desktop Protocol (RDP) into their Virtual Machines. Customer impact: This incident impacted a single region.  Services deployed with geographic redundancy may have been able to operate out of other regions.  For services located in East US, retrying requests or failed operations on a new TCP or UDP connection would have had a 93% chance of success. Root cause and mitigation: This incident resulted from one network router that carries traffic between data centers in the East US region being put back into service without sufficient uplink capacity available to handle its share of the load. There are multiple routers filling this role in the East US region, and the correct behavior would have been to leave this network router out of service until it had the amount of uplink capacity required. Once engineers discovered the congested link, the network router was removed from service and network operations returned to normal. Next steps: Azure Networking understands that this issue caused significant impact to our customers, and we are taking the following steps to prevent a recurrence: 1. Reinstate alerting for high utilization links. [Completed] 2. Create a system that continually verifies that critical alerts, like high utilization alarms, are functioning properly. [In Planning] 3. Create a separate alert to warn on-call engineers about links with high rates of packet discard. [In Progress] 4. Extend the faulty link repair system to perform the health checks for the engineer, removing human action and judgement from the process. [In Progress] 5. Update the troubleshooting guide to unambiguously specify how to check that there is sufficient capacity available. [Completed] Provide feedback: Please help us improve the Azure customer communications experience by taking our survey https://aka.ms/SNBD-MT0 (https://aka.ms/SNBD-MT0)
