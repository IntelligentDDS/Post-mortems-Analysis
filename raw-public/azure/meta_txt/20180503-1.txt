RCA - Multiple Services - West Central US
Summary of impact: Between 19:47 and 22:05 UTC on 03 May 2018, customers in West Central US may have experienced difficulties connecting to resources hosted in this region. The incident was caused by a configuration change deployed to update Management Access Control Lists (ACLs). The change was deployed to network switches in a subset of clusters in the West Central US Region. The configuration was rolled back to mitigate the incident. Root cause and mitigation: Azure uses Management ACLs to limit access to the management plane of network switches to a small number of approved network management services and must occasionally update these ACLs. Management ACLs should normally have no effect on the flow of customer traffic through the router. In this incident, the Management ACLs were incorrectly applied in some network switches due to the differences in how ACLs are interpreted between different operating system versions for the network switches. In the impacted switches, this led to the blocking of critical routing Border Gateway Protocol (BGP) traffic, which led to the switches being unable to forward traffic into a subset of the storage clusters in this region. This loss of connectivity to a subset of storage accounts resulted in impact to VMs and services with a dependence on those storage accounts. Engineers responded to the alerts and mitigated the incident by rolling back the configuration changes. Next steps: We sincerely apologize for the impact to affected customers. We are continuously taking steps to improve the Microsoft Azure Platform and our processes to help ensure such incidents do not occur in the future. In this case, this includes (but is not limited to): 1. Enhancing configuration deployment testing / validation processes and automation to account for variances in network switch operating systems - in progress 2. Reviewing and enhancing the deployment methods, procedures, and automation by incorporating additional network health signals - in progress 3. Monitoring and alerting improvements for Border Gateway Protocol (BGP) - in progress Provide feedback: Please help us improve the Azure customer communications experience by taking our survey: https://survey.microsoft.com/721577
