RCA - Virtual Machines - UK South
Summary of impact: Between 22:13 UTC on 12 July 2018 and 16:20 UTC on 13 July 2018, a subset of customers using Virtual Machines in UK South may have experienced difficulties connecting to some of their resources hosted in the region. Customers may have been unable to establish RDP or SSH session into their resources. This issue impacted customers with resources hosted on one of the compute scale units hosted in the region.
Root cause and mitigation: The impacted scale unit was introduced into rotation a few days before the impact window. Prior to its release to production and during the build out process, an incorrect network parameter was set which impacted virtual network (VNET) connectivity on this scale unit. This connectivity issue triggered the expected monitoring alerts which were temporally muted from the network monitoring tool as the build out process progressed. Unfortunately, these alerts weren't unmuted prior to the unit accepting workloads. Engineers partially mitigated the issue by asking impacted customers to deallocate, restart impacted workloads and taking the scale unit out of rotation. The issue was fully mitigated by adjusting the incorrect parameter to the expected value.
Next steps: We sincerely apologize for the impact to affected customers. We are continuously taking steps to improve the Microsoft Azure Platform and our processes to help ensure such incidents do not occur in the future. In this case, this includes (but is not limited to):
1. Scan of recently built scale units to validate that the correct network parameter is set [Done] 2. Scan of recently built scale units to validate that monitoring alerts are unmuted [Done] 3. Roll out automation to remove the manual setting of the network parameter [Done] 4. Add a check to ensure that no network alerts are supressed before scale units are introduced into rotation [In Progress]
Provide feedback: Please help us improve the Azure customer communications experience by taking our survey: https://aka.ms/RW6S-DL8 (https://aka.ms/RW6S-DL8)
