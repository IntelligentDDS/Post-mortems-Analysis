Virtual Network - UK South and UK West
Summary of impact: Between 11:19 and 16:56 UTC on 26 Nov 2018, a subset of customers using Virtual Networks in UK South and UK West may have experienced difficulties connecting to resources hosted in these regions. Some customers using Global VNET peering or replication between these regions may have experienced latency or connectivity issues. This issue may have also impacted connections to other Azure services.
Root cause and mitigation: A 16 minute hardware failure on a WAN router caused a large amount of traffic to failover from the primary path out of the region to the backup path, causing increased congestion on the backup path. Once the hardware failure was resolved, a firmware issue with our WAN traffic engineering solution prevented traffic from returning to the primary path, causing the congestion issue to persist. Engineers manually rerouted network traffic back to the primary path to reduce the congestion and mitigate the issue.
Next steps: We sincerely apologize for the impact to affected customers. We are continuously taking steps to improve the Microsoft Azure Platform and our processes to help ensure such incidents do not occur in the future. In this case, this includes (but is not limited to):
Fix the firmware issue that prevented traffic from rerouting back to the primary path (completed)
Create alerts to detect similar issues with our traffic engineering solution in the future (completed)
Assess possible design changes to the WAN Traffic Engineering solution to maximize performance in extreme congestion scenarios (in progress) Create alerts and monitoring process to detect large traffic flows that can be throttled to reduce congestion in this type of situation (completed) Increase capacity in the region to avoid the potential for congestion (completed)
Provide feedback: Please help us improve the Azure customer communications experience by taking our survey https://aka.ms/F7M1-9QG